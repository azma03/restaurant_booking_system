{"ast":null,"code":"var _jsxFileName = \"/Users/stephenhart/Documents/Documents - Stephen\\u2019s MacBook Air/Codeclan/week15/restaurant_booking_system/frontend/src/components/Customers/CustomerList.js\";\nimport React from 'react';\nimport Customer from '../Customers/Customer';\nimport Request from '../../helpers/request.js';\n\nvar CustomerList = function CustomerList(props) {\n  function getTotalSpendings(customer) {\n    var total = 0;\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = customer.bookings[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var booking = _step.value;\n        total += booking.receiptTotal;\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return != null) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    return total;\n  }\n\n  var customerDetails = props.data.map(function (customer) {\n    return React.createElement(Customer, {\n      key: customer.id,\n      id: customer.id,\n      bookings: customer.bookings,\n      name: customer.name,\n      email: customer.email,\n      phone: customer.phone,\n      discount: customer.discount,\n      visits: customer.bookings.length,\n      spend: getTotalSpendings(customer),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20\n      },\n      __self: this\n    });\n  });\n\n  function handleSort() {\n    props.onSortRequest();\n  }\n\n  return React.createElement(\"div\", {\n    id: \"customer-table\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: \"table-header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, \"Customers\")), React.createElement(\"table\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, \"Name\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, \"Phone\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, \"Email\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \"Discount Level\"), React.createElement(\"th\", {\n    onClick: handleSort,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"No. Visits\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"Spend (\\xA3)\"))), customerDetails));\n};\n\nexport default CustomerList;","map":{"version":3,"sources":["/Users/stephenhart/Documents/Documents - Stephen’s MacBook Air/Codeclan/week15/restaurant_booking_system/frontend/src/components/Customers/CustomerList.js"],"names":["React","Customer","Request","CustomerList","props","getTotalSpendings","customer","total","bookings","booking","receiptTotal","customerDetails","data","map","id","name","email","phone","discount","length","handleSort","onSortRequest"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,OAAP,MAAoB,0BAApB;;AAGA,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,KAAD,EAAW;AAE9B,WAASC,iBAAT,CAA2BC,QAA3B,EAAoC;AAClC,QAAIC,KAAK,GAAG,CAAZ;AADkC;AAAA;AAAA;;AAAA;AAElC,2BAAoBD,QAAQ,CAACE,QAA7B,8HAAsC;AAAA,YAA7BC,OAA6B;AACpCF,QAAAA,KAAK,IAAIE,OAAO,CAACC,YAAjB;AACD;AAJiC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAMlC,WAAOH,KAAP;AACD;;AAEC,MAAMI,eAAe,GAAGP,KAAK,CAACQ,IAAN,CAAWC,GAAX,CAAe,UAACP,QAAD,EAAa;AAEhD,WACE,oBAAC,QAAD;AAAU,MAAA,GAAG,EAAEA,QAAQ,CAACQ,EAAxB;AACA,MAAA,EAAE,EAAER,QAAQ,CAACQ,EADb;AAEA,MAAA,QAAQ,EAAER,QAAQ,CAACE,QAFnB;AAGA,MAAA,IAAI,EAAEF,QAAQ,CAACS,IAHf;AAIA,MAAA,KAAK,EAAET,QAAQ,CAACU,KAJhB;AAKA,MAAA,KAAK,EAAEV,QAAQ,CAACW,KALhB;AAMA,MAAA,QAAQ,EAAEX,QAAQ,CAACY,QANnB;AAOA,MAAA,MAAM,EAAEZ,QAAQ,CAACE,QAAT,CAAkBW,MAP1B;AAQA,MAAA,KAAK,EAAEd,iBAAiB,CAACC,QAAD,CARxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF;AAYD,GAdqB,CAAxB;;AAgBA,WAASc,UAAT,GAAqB;AACnBhB,IAAAA,KAAK,CAACiB,aAAN;AACD;;AAED,SACE;AAAK,IAAA,EAAE,EAAG,gBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,EAAE,EAAC,cAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADA,CADF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADA,EAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAFA,EAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAHA,EAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAJA,EAKA;AAAI,IAAA,OAAO,EAAED,UAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBALA,EAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBANA,CADA,CADF,EAWGT,eAXH,CAJF,CADF;AAoBD,CAnDH;;AAqDA,eAAeR,YAAf","sourcesContent":["import React from 'react';\nimport Customer from '../Customers/Customer';\nimport Request from '../../helpers/request.js';\n\n\nconst CustomerList = (props) => {\n\n  function getTotalSpendings(customer){\n    let total = 0;\n    for (let booking of customer.bookings){\n      total += booking.receiptTotal;\n    }\n\n    return total;\n  }\n\n    const customerDetails = props.data.map((customer) =>{\n\n        return (\n          <Customer key={customer.id}\n          id={customer.id}\n          bookings={customer.bookings}\n          name={customer.name}\n          email={customer.email}\n          phone={customer.phone}\n          discount={customer.discount}\n          visits={customer.bookings.length}\n          spend={getTotalSpendings(customer)}>\n          </Customer>\n        );\n      });\n\n    function handleSort(){\n      props.onSortRequest();\n    }\n\n    return(\n      <div id = \"customer-table\">\n        <div id=\"table-header\">\n        <a>Customers</a>\n        </div>\n        <table>\n          <tbody>\n          <tr>\n          <th>Name</th>\n          <th>Phone</th>\n          <th>Email</th>\n          <th>Discount Level</th>\n          <th onClick={handleSort}>No. Visits</th>\n          <th>Spend (£)</th>\n          </tr>\n          </tbody>\n          {customerDetails}\n        </table>\n      </div>\n    );\n  };\n\nexport default CustomerList;\n"]},"metadata":{},"sourceType":"module"}