{"ast":null,"code":"import _classCallCheck from \"/Users/andrewbrown/Documents/codeclan_work/week_14/day_5/Project/restaurant_booking_system/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/andrewbrown/Documents/codeclan_work/week_14/day_5/Project/restaurant_booking_system/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/andrewbrown/Documents/codeclan_work/week_14/day_5/Project/restaurant_booking_system/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/andrewbrown/Documents/codeclan_work/week_14/day_5/Project/restaurant_booking_system/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/andrewbrown/Documents/codeclan_work/week_14/day_5/Project/restaurant_booking_system/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/andrewbrown/Documents/codeclan_work/week_14/day_5/Project/restaurant_booking_system/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/andrewbrown/Documents/codeclan_work/week_14/day_5/Project/restaurant_booking_system/frontend/src/containers/UpdateBookingFormContainer.js\";\nimport React, { Component } from 'react';\nimport Request from '../helpers/request.js';\nimport UpdateBookingForm from '../components/Bookings/UpdateBookingForm';\n\nvar UpdateBookingFormContainer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(UpdateBookingFormContainer, _Component);\n\n  function UpdateBookingFormContainer(props) {\n    var _this;\n\n    _classCallCheck(this, UpdateBookingFormContainer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UpdateBookingFormContainer).call(this, props));\n    _this.state = {\n      booking: null,\n      tableData: [],\n      customerData: []\n    };\n    _this.getBooking = _this.getBooking.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleUpdateBooking = _this.handleUpdateBooking.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(UpdateBookingFormContainer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var request1 = new Request();\n      request1.get('/api/customers').then(function (data1) {\n        _this2.setState({\n          customerData: data1._embedded.customers\n        });\n      });\n      var request2 = new Request();\n      request2.get('/api/booths').then(function (data2) {\n        _this2.setState({\n          tableData: data2._embedded.booths\n        });\n      });\n      this.getBooking();\n    }\n  }, {\n    key: \"getBooking\",\n    value: function getBooking() {\n      var _this3 = this;\n\n      var request = new Request();\n      var url = '/api/bookings/' + this.props.id + '?projection=embedToBooking';\n      request.get(url).then(function (bookingData) {\n        _this3.setState({\n          booking: bookingData\n        });\n      });\n      debugger;\n    }\n  }, {\n    key: \"handleUpdateBooking\",\n    value: function handleUpdateBooking(updatedBooking) {\n      var url = '/api/bookings/' + updatedBooking.id;\n      var request = new Request();\n      request.put(url, updatedBooking).then(function (data) {// window.location = '/bookings'\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(UpdateBookingForm, {\n        booking: this.state.booking,\n        customerData: this.state.customerData,\n        tableData: this.state.tableData,\n        handleUpdate: this.handleUpdateBooking,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return UpdateBookingFormContainer;\n}(Component);\n\nexport default UpdateBookingFormContainer;","map":{"version":3,"sources":["/Users/andrewbrown/Documents/codeclan_work/week_14/day_5/Project/restaurant_booking_system/frontend/src/containers/UpdateBookingFormContainer.js"],"names":["React","Component","Request","UpdateBookingForm","UpdateBookingFormContainer","props","state","booking","tableData","customerData","getBooking","bind","handleUpdateBooking","request1","get","then","data1","setState","_embedded","customers","request2","data2","booths","request","url","id","bookingData","updatedBooking","put","data"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,iBAAP,MAA8B,0CAA9B;;IAEMC,0B;;;;;AACJ,sCAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AAChB,oGAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACbC,MAAAA,OAAO,EAAE,IADI;AAEbC,MAAAA,SAAS,EAAE,EAFE;AAGbC,MAAAA,YAAY,EAAC;AAHA,KAAb;AAMA,UAAKC,UAAL,GAAkB,MAAKA,UAAL,CAAgBC,IAAhB,uDAAlB;AACA,UAAKC,mBAAL,GAA2B,MAAKA,mBAAL,CAAyBD,IAAzB,uDAA3B;AATgB;AAUjB;;;;wCAEkB;AAAA;;AACjB,UAAIE,QAAQ,GAAG,IAAIX,OAAJ,EAAf;AACAW,MAAAA,QAAQ,CAACC,GAAT,CAAa,gBAAb,EAA+BC,IAA/B,CAAoC,UAACC,KAAD,EAAW;AAC7C,QAAA,MAAI,CAACC,QAAL,CAAc;AAACR,UAAAA,YAAY,EAACO,KAAK,CAACE,SAAN,CAAgBC;AAA9B,SAAd;AACD,OAFD;AAIA,UAAIC,QAAQ,GAAG,IAAIlB,OAAJ,EAAf;AACAkB,MAAAA,QAAQ,CAACN,GAAT,CAAa,aAAb,EAA4BC,IAA5B,CAAiC,UAACM,KAAD,EAAW;AAC1C,QAAA,MAAI,CAACJ,QAAL,CAAc;AAACT,UAAAA,SAAS,EAACa,KAAK,CAACH,SAAN,CAAgBI;AAA3B,SAAd;AACD,OAFD;AAIA,WAAKZ,UAAL;AAED;;;iCAEW;AAAA;;AACV,UAAMa,OAAO,GAAG,IAAIrB,OAAJ,EAAhB;AACA,UAAMsB,GAAG,GAAG,mBAAmB,KAAKnB,KAAL,CAAWoB,EAA9B,GAAmC,4BAA/C;AAEAF,MAAAA,OAAO,CAACT,GAAR,CAAYU,GAAZ,EAAiBT,IAAjB,CAAsB,UAAAW,WAAW,EAAG;AAGlC,QAAA,MAAI,CAACT,QAAL,CAAc;AAACV,UAAAA,OAAO,EAAEmB;AAAV,SAAd;AACD,OAJD;AAKA;AACD;;;wCAEmBC,c,EAAe;AACjC,UAAMH,GAAG,GAAG,mBAAmBG,cAAc,CAACF,EAA9C;AACA,UAAIF,OAAO,GAAG,IAAIrB,OAAJ,EAAd;AACAqB,MAAAA,OAAO,CAACK,GAAR,CAAYJ,GAAZ,EAAiBG,cAAjB,EAAiCZ,IAAjC,CAAsC,UAAAc,IAAI,EAAI,CAC5C;AACD,OAFD;AAGD;;;6BAEO;AACN,aACE,oBAAC,iBAAD;AACA,QAAA,OAAO,EAAI,KAAKvB,KAAL,CAAWC,OADtB;AAEA,QAAA,YAAY,EAAI,KAAKD,KAAL,CAAWG,YAF3B;AAGA,QAAA,SAAS,EAAE,KAAKH,KAAL,CAAWE,SAHtB;AAIA,QAAA,YAAY,EAAE,KAAKI,mBAJnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAOD;;;;EAxDsCX,S;;AA2DzC,eAAeG,0BAAf","sourcesContent":["import React, {Component} from 'react'\nimport Request from '../helpers/request.js';\nimport UpdateBookingForm from '../components/Bookings/UpdateBookingForm';\n\nclass UpdateBookingFormContainer extends Component{\n  constructor(props){\n    super(props)\n    this.state = {\n    booking: null,\n    tableData: [],\n    customerData:[]\n    }\n\n    this.getBooking = this.getBooking.bind(this);\n    this.handleUpdateBooking = this.handleUpdateBooking.bind(this);\n  }\n\n  componentDidMount(){\n    let request1 = new Request()\n    request1.get('/api/customers').then((data1) => {\n      this.setState({customerData:data1._embedded.customers});\n    })\n\n    let request2 = new Request()\n    request2.get('/api/booths').then((data2) => {\n      this.setState({tableData:data2._embedded.booths});\n    })\n\n    this.getBooking();\n\n  }\n\n  getBooking(){\n    const request = new Request()\n    const url = '/api/bookings/' + this.props.id + '?projection=embedToBooking'\n\n    request.get(url).then(bookingData =>{\n\n\n      this.setState({booking: bookingData})\n    })\n    debugger;\n  }\n\n  handleUpdateBooking(updatedBooking){\n    const url = '/api/bookings/' + updatedBooking.id;\n    let request = new Request();\n    request.put(url, updatedBooking).then(data => {\n      // window.location = '/bookings'\n    })\n  }\n\n  render(){\n    return(\n      <UpdateBookingForm\n      booking = {this.state.booking}\n      customerData = {this.state.customerData}\n      tableData={this.state.tableData}\n      handleUpdate={this.handleUpdateBooking}/>\n    )\n  }\n}\n\nexport default UpdateBookingFormContainer;\n"]},"metadata":{},"sourceType":"module"}