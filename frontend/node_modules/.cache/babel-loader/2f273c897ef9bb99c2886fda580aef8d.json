{"ast":null,"code":"import _classCallCheck from \"/Users/stephenhart/Documents/Documents - Stephen\\u2019s MacBook Air/Codeclan/week15/restaurant_booking_system/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/stephenhart/Documents/Documents - Stephen\\u2019s MacBook Air/Codeclan/week15/restaurant_booking_system/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/stephenhart/Documents/Documents - Stephen\\u2019s MacBook Air/Codeclan/week15/restaurant_booking_system/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/stephenhart/Documents/Documents - Stephen\\u2019s MacBook Air/Codeclan/week15/restaurant_booking_system/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/stephenhart/Documents/Documents - Stephen\\u2019s MacBook Air/Codeclan/week15/restaurant_booking_system/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/stephenhart/Documents/Documents - Stephen\\u2019s MacBook Air/Codeclan/week15/restaurant_booking_system/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/stephenhart/Documents/Documents - Stephen\\u2019s MacBook Air/Codeclan/week15/restaurant_booking_system/frontend/src/components/Customers/SingleCustomer.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport Request from '../../helpers/request.js';\n\nvar SingleCustomer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SingleCustomer, _Component);\n\n  function SingleCustomer(props) {\n    var _this;\n\n    _classCallCheck(this, SingleCustomer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SingleCustomer).call(this, props));\n    _this.state = {\n      totalSpend: \"\",\n      visitCount: \"\",\n      discountLevel: \"\"\n    };\n    _this.onDelete = _this.onDelete.bind(_assertThisInitialized(_assertThisInitialized(_this))); // this.totalSpendings = this.totalSpendings.bind(this);\n    // this.totalVisits = this.totalVisits.bind(this);\n    // this.discountLevel = this.discountLevel.bind(this);\n\n    return _this;\n  } // componentDidMount(){\n  //   this.totalSpendings();\n  //   this.totalVisits();\n  //   this.discountLevel();\n  // }\n\n\n  _createClass(SingleCustomer, [{\n    key: \"onDelete\",\n    value: function onDelete() {\n      this.props.handleDelete(this.props.customer.id);\n    } // totalSpendings(){\n    //    let request1 = new Request()\n    //    request1.get('api/customers/1/totalSpendings').then((data) => {\n    //      this.setState({totalSpend: data})\n    //    })\n    //  }\n    //\n    //  totalVisits(){\n    //     let request2 = new Request()\n    //     request2.get('api/customers/1/visitCount').then((data) => {\n    //       this.setState({visitCount: data})\n    //     })\n    //   }\n    //\n    //  discountLevel(){\n    //     let visits = this.state.visitCount;\n    //     if(visits>10){\n    //       this.setState({discountLevel: \"gold\"})\n    //     }else if(visits>5){\n    //       this.setState({discountLevel: \"silver\"})\n    //     }else{\n    //      this.setState({discountLevel: \"bronze\"})\n    //     }\n    //    }\n\n  }, {\n    key: \"getTotalSpendings\",\n    value: function getTotalSpendings() {\n      var total = 0;\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.props.customer.bookings[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var booking = _step.value;\n          total += booking.receiptTotal; // debugger;\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return total;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.props.customer) {\n        return null;\n      }\n\n      var bookings = this.props.customer.bookings.map(function (booking, index) {\n        return React.createElement(\"li\", {\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }, booking.date);\n      });\n      return React.createElement(\"div\", {\n        id: \"container2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"single-customer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \"Customer Details :\"), React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \"Name: \", this.props.customer.name), React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"Phone: \", this.props.customer.phone), React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \"Email: \", this.props.customer.email), React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, \"Discount: \", this.props.customer.discount), React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"Total Visit: \", this.props.customer.bookings.length), React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"Total Spend: \", this.getTotalSpendings()), React.createElement(\"div\", {\n        id: \"customer-bookings\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, \"Bookings:\"), React.createElement(\"ul\", {\n        id: \"booking-list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, bookings)), React.createElement(\"button\", {\n        id: \"deletecustomerbutton\",\n        onClick: this.onDelete,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"Delete Customer\"), React.createElement(Link, {\n        to: '/customers/update/' + this.props.customer.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        id: \"updatecustomerbutton\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, \"Update Customer\"))));\n    }\n  }]);\n\n  return SingleCustomer;\n}(Component);\n\nexport default SingleCustomer;","map":{"version":3,"sources":["/Users/stephenhart/Documents/Documents - Stephenâ€™s MacBook Air/Codeclan/week15/restaurant_booking_system/frontend/src/components/Customers/SingleCustomer.js"],"names":["React","Component","Link","Request","SingleCustomer","props","state","totalSpend","visitCount","discountLevel","onDelete","bind","handleDelete","customer","id","total","bookings","booking","receiptTotal","map","index","date","name","phone","email","discount","length","getTotalSpendings"],"mappings":"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","sourcesContent":["import React, {Component}  from 'react';\nimport {Link} from 'react-router-dom';\nimport Request from '../../helpers/request.js';\n\nclass SingleCustomer extends Component {\n  constructor(props){\n    super(props);\n\n    this.state ={\n      totalSpend: \"\",\n      visitCount: \"\",\n      discountLevel: \"\"\n    }\n\n    this.onDelete = this.onDelete.bind(this);\n    // this.totalSpendings = this.totalSpendings.bind(this);\n    // this.totalVisits = this.totalVisits.bind(this);\n    // this.discountLevel = this.discountLevel.bind(this);\n  }\n\n  // componentDidMount(){\n  //   this.totalSpendings();\n  //   this.totalVisits();\n  //   this.discountLevel();\n  // }\n\n\n onDelete(){\n   this.props.handleDelete(this.props.customer.id)\n }\n\n // totalSpendings(){\n //    let request1 = new Request()\n //    request1.get('api/customers/1/totalSpendings').then((data) => {\n //      this.setState({totalSpend: data})\n //    })\n //  }\n //\n //  totalVisits(){\n //     let request2 = new Request()\n //     request2.get('api/customers/1/visitCount').then((data) => {\n //       this.setState({visitCount: data})\n //     })\n //   }\n //\n //  discountLevel(){\n //     let visits = this.state.visitCount;\n //     if(visits>10){\n //       this.setState({discountLevel: \"gold\"})\n //     }else if(visits>5){\n //       this.setState({discountLevel: \"silver\"})\n //     }else{\n //      this.setState({discountLevel: \"bronze\"})\n //     }\n //    }\n\n getTotalSpendings(){\n   let total = 0;\n   for (let booking of this.props.customer.bookings){\n     total += booking.receiptTotal;\n       // debugger;\n   }\n\n   return total;\n }\n\nrender(){\n\n  if(!this.props.customer){\n    return null;\n  }\n\n\n  const bookings = this.props.customer.bookings.map((booking, index) => {\n    return <li key={index}>{booking.date}</li>\n  })\n\n  return (\n    <div id=\"container2\">\n      <div id=\"single-customer\">\n        <h1>Customer Details :</h1>\n        <b>Name: {this.props.customer.name}</b>\n        <b>Phone: {this.props.customer.phone}</b>\n        <b>Email: {this.props.customer.email}</b>\n        <b>Discount: {this.props.customer.discount}</b>\n        <b>Total Visit: {this.props.customer.bookings.length}</b>\n        <b>Total Spend: {this.getTotalSpendings()}</b>\n        <div id=\"customer-bookings\">\n        <a>\n        Bookings:\n        </a>\n        <ul id = \"booking-list\">\n        {bookings}\n        </ul>\n        </div>\n\n        <button id=\"deletecustomerbutton\" onClick={this.onDelete}>Delete Customer</button>\n\n        <Link to={'/customers/update/' + this.props.customer.id}>\n\n        <button id=\"updatecustomerbutton\">Update Customer</button></Link>\n      </div>\n    </div>\n  )\n}\n\n}\n\nexport default SingleCustomer;\n"]},"metadata":{},"sourceType":"module"}