{"ast":null,"code":"import _classCallCheck from \"/Users/andrewbrown/Documents/codeclan_work/week_14/day_5/Project/restaurant_booking_system/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/andrewbrown/Documents/codeclan_work/week_14/day_5/Project/restaurant_booking_system/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/andrewbrown/Documents/codeclan_work/week_14/day_5/Project/restaurant_booking_system/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/andrewbrown/Documents/codeclan_work/week_14/day_5/Project/restaurant_booking_system/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/andrewbrown/Documents/codeclan_work/week_14/day_5/Project/restaurant_booking_system/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/andrewbrown/Documents/codeclan_work/week_14/day_5/Project/restaurant_booking_system/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/andrewbrown/Documents/codeclan_work/week_14/day_5/Project/restaurant_booking_system/frontend/src/containers/UpdateCustomerFormContainer.js\";\nimport React, { Component } from 'react';\nimport Request from '../../helpers/request.js';\nimport UpdateCustomerForm from '../components/Customers/UpdateCustomerForm';\n\nvar UpdateCustomerFormContainer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(UpdateCustomerFormContainer, _Component);\n\n  function UpdateCustomerFormContainer(props) {\n    var _this;\n\n    _classCallCheck(this, UpdateCustomerFormContainer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UpdateCustomerFormContainer).call(this, props));\n    _this.state = {\n      customer: null\n    };\n    _this.handleCustomerUpdate = _this.handleCustomerUpdate.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.getCustomer = _this.getCustomer.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.getBookings = _this.getBookings.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(UpdateCustomerFormContainer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getCustomer();\n    }\n  }, {\n    key: \"getCustomer\",\n    value: function getCustomer() {\n      var _this2 = this;\n\n      var request = new Request();\n      var url = '/api/customers' + this.props.id + '?projection=embedToCustomer';\n      request.get('url').then(function (data) {\n        _this2.setState({\n          customer: data\n        });\n      });\n    }\n  }, {\n    key: \"handleCustomerUpdate\",\n    value: function handleCustomerUpdate(customer) {\n      var url = '/api/customers/' + customer.id;\n      var request = new Request();\n      request.put(url, customer).then(function (data) {\n        window.location = '/customers';\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(UpdateCustomerForm, {\n        customer: this.state.customer,\n        handleUpdate: this.handleCustomerUpdate,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return UpdateCustomerFormContainer;\n}(Component());\n\nexport default UpdateCustomerFormContainer;","map":{"version":3,"sources":["/Users/andrewbrown/Documents/codeclan_work/week_14/day_5/Project/restaurant_booking_system/frontend/src/containers/UpdateCustomerFormContainer.js"],"names":["React","Component","Request","UpdateCustomerForm","UpdateCustomerFormContainer","props","state","customer","handleCustomerUpdate","bind","getCustomer","getBookings","request","url","id","get","then","data","setState","put","window","location"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,OAAP,MAAoB,0BAApB;AACA,OAAOC,kBAAP,MAA+B,4CAA/B;;IAEMC,2B;;;;;AACJ,uCAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AAChB,qGAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AAEXC,MAAAA,QAAQ,EAAE;AAFC,KAAb;AAKA,UAAKC,oBAAL,GAA4B,MAAKA,oBAAL,CAA0BC,IAA1B,uDAA5B;AACA,UAAKC,WAAL,GAAmB,MAAKA,WAAL,CAAiBD,IAAjB,uDAAnB;AACA,UAAKE,WAAL,GAAmB,MAAKA,WAAL,CAAiBF,IAAjB,uDAAnB;AATgB;AAUjB;;;;wCAEgB;AAEjB,WAAKC,WAAL;AACC;;;kCAEU;AAAA;;AACP,UAAME,OAAO,GAAG,IAAIV,OAAJ,EAAhB;AACA,UAAMW,GAAG,GAAG,mBAAmB,KAAKR,KAAL,CAAWS,EAA9B,GAAmC,6BAA/C;AACAF,MAAAA,OAAO,CAACG,GAAR,CAAY,KAAZ,EAAmBC,IAAnB,CAAwB,UAAAC,IAAI,EAAG;AAC/B,QAAA,MAAI,CAACC,QAAL,CAAc;AAACX,UAAAA,QAAQ,EAAEU;AAAX,SAAd;AACD,OAFC;AAGH;;;yCACoBV,Q,EAAS;AAC1B,UAAMM,GAAG,GAAG,oBAAoBN,QAAQ,CAACO,EAAzC;AACA,UAAIF,OAAO,GAAG,IAAIV,OAAJ,EAAd;AACAU,MAAAA,OAAO,CAACO,GAAR,CAAYN,GAAZ,EAAiBN,QAAjB,EAA2BS,IAA3B,CAAgC,UAAAC,IAAI,EAAI;AACtCG,QAAAA,MAAM,CAACC,QAAP,GAAkB,YAAlB;AACD,OAFD;AAGD;;;6BAEK;AACN,aACE,oBAAC,kBAAD;AACA,QAAA,QAAQ,EAAI,KAAKf,KAAL,CAAWC,QADvB;AAEA,QAAA,YAAY,EAAI,KAAKC,oBAFrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAKD;;;;EAvCuCP,SAAS,E;;AA2CnD,eAAeG,2BAAf","sourcesContent":["import React, {Component} from 'react'\nimport Request from '../../helpers/request.js';\nimport UpdateCustomerForm from '../components/Customers/UpdateCustomerForm';\n\nclass UpdateCustomerFormContainer extends Component(){\n  constructor(props){\n    super(props)\n    this.state = {\n\n      customer: null\n    }\n\n    this.handleCustomerUpdate = this.handleCustomerUpdate.bind(this);\n    this.getCustomer = this.getCustomer.bind(this);\n    this.getBookings = this.getBookings.bind(this);\n  }\n\ncomponentDidMount(){\n\n  this.getCustomer();\n  }\n\ngetCustomer(){\n      const request = new Request()\n      const url = '/api/customers' + this.props.id + '?projection=embedToCustomer'\n      request.get('url').then(data =>{\n      this.setState({customer: data})\n    })\n  }\n  handleCustomerUpdate(customer){\n      const url = '/api/customers/' + customer.id;\n      let request = new Request();\n      request.put(url, customer).then(data => {\n        window.location = '/customers'\n      })\n    }\n\n  render(){\n    return(\n      <UpdateCustomerForm\n      customer = {this.state.customer}\n      handleUpdate = {this.handleCustomerUpdate}/>\n    )\n  }\n\n}\n\nexport default UpdateCustomerFormContainer;\n"]},"metadata":{},"sourceType":"module"}