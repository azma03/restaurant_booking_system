{"ast":null,"code":"import _classCallCheck from \"/Users/stephenhart/Documents/Documents - Stephen\\u2019s MacBook Air/Codeclan/week15/restaurant_booking_system/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/stephenhart/Documents/Documents - Stephen\\u2019s MacBook Air/Codeclan/week15/restaurant_booking_system/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/stephenhart/Documents/Documents - Stephen\\u2019s MacBook Air/Codeclan/week15/restaurant_booking_system/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/stephenhart/Documents/Documents - Stephen\\u2019s MacBook Air/Codeclan/week15/restaurant_booking_system/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/stephenhart/Documents/Documents - Stephen\\u2019s MacBook Air/Codeclan/week15/restaurant_booking_system/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/stephenhart/Documents/Documents - Stephen\\u2019s MacBook Air/Codeclan/week15/restaurant_booking_system/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/stephenhart/Documents/Documents - Stephen\\u2019s MacBook Air/Codeclan/week15/restaurant_booking_system/frontend/src/components/Customers/SingleCustomer.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport Request from '../../helpers/request.js';\n\nvar SingleCustomer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SingleCustomer, _Component);\n\n  function SingleCustomer(props) {\n    var _this;\n\n    _classCallCheck(this, SingleCustomer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SingleCustomer).call(this, props));\n    _this.state = {\n      totalSpend: \"\",\n      visitCount: \"\",\n      discountLevel: \"\"\n    };\n    _this.onDelete = _this.onDelete.bind(_assertThisInitialized(_assertThisInitialized(_this))); // this.totalSpendings = this.totalSpendings.bind(this);\n    // this.totalVisits = this.totalVisits.bind(this);\n    // this.discountLevel = this.discountLevel.bind(this);\n\n    return _this;\n  } // componentDidMount(){\n  //   this.totalSpendings();\n  //   this.totalVisits();\n  //   this.discountLevel();\n  // }\n\n\n  _createClass(SingleCustomer, [{\n    key: \"onDelete\",\n    value: function onDelete() {\n      this.props.handleDelete(this.props.customer.id);\n    } // totalSpendings(){\n    //    let request1 = new Request()\n    //    request1.get('api/customers/1/totalSpendings').then((data) => {\n    //      this.setState({totalSpend: data})\n    //    })\n    //  }\n    //\n    //  totalVisits(){\n    //     let request2 = new Request()\n    //     request2.get('api/customers/1/visitCount').then((data) => {\n    //       this.setState({visitCount: data})\n    //     })\n    //   }\n    //\n    //  discountLevel(){\n    //     let visits = this.state.visitCount;\n    //     if(visits>10){\n    //       this.setState({discountLevel: \"gold\"})\n    //     }else if(visits>5){\n    //       this.setState({discountLevel: \"silver\"})\n    //     }else{\n    //      this.setState({discountLevel: \"bronze\"})\n    //     }\n    //    }\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.props.customer) {\n        return null;\n      }\n\n      var bookings = this.props.customer.bookings.map(function (booking, index) {\n        return React.createElement(\"li\", {\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, booking.date);\n      });\n      return React.createElement(\"div\", {\n        id: \"container2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"single-customer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"Name: \", this.props.customer.name), React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \"Phone: \", this.props.customer.phone), React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"Email: \", this.props.customer.email), React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"Discount: \", this.props.discountLevel), React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"Total Visit: \", this.props.totalVisits), React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \"Total Spend: \", this.props.totalSpendings), \"Bookings:\", React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, bookings), React.createElement(\"button\", {\n        onClick: this.onDelete,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \"Delete Customer\"), React.createElement(Link, {\n        to: '/customers/update/' + this.props.customer.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \"Update Customer\"))));\n    }\n  }]);\n\n  return SingleCustomer;\n}(Component);\n\nexport default SingleCustomer;","map":{"version":3,"sources":["/Users/stephenhart/Documents/Documents - Stephenâ€™s MacBook Air/Codeclan/week15/restaurant_booking_system/frontend/src/components/Customers/SingleCustomer.js"],"names":["React","Component","Link","Request","SingleCustomer","props","state","totalSpend","visitCount","discountLevel","onDelete","bind","handleDelete","customer","id","bookings","map","booking","index","date","name","phone","email","totalVisits","totalSpendings"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAAgC,OAAhC;AACA,SAAQC,IAAR,QAAmB,kBAAnB;AACA,OAAOC,OAAP,MAAoB,0BAApB;;IAEMC,c;;;;;AACJ,0BAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AAChB,wFAAMA,KAAN;AAEA,UAAKC,KAAL,GAAY;AACVC,MAAAA,UAAU,EAAE,EADF;AAEVC,MAAAA,UAAU,EAAE,EAFF;AAGVC,MAAAA,aAAa,EAAE;AAHL,KAAZ;AAMA,UAAKC,QAAL,GAAgB,MAAKA,QAAL,CAAcC,IAAd,uDAAhB,CATgB,CAUhB;AACA;AACA;;AAZgB;AAcjB,G,CAED;AACA;AACA;AACA;AACA;;;;;+BAES;AACR,WAAKN,KAAL,CAAWO,YAAX,CAAwB,KAAKP,KAAL,CAAWQ,QAAX,CAAoBC,EAA5C;AACD,K,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;6BAEO;AAEN,UAAG,CAAC,KAAKT,KAAL,CAAWQ,QAAf,EAAwB;AACtB,eAAO,IAAP;AACD;;AAGD,UAAME,QAAQ,GAAG,KAAKV,KAAL,CAAWQ,QAAX,CAAoBE,QAApB,CAA6BC,GAA7B,CAAiC,UAACC,OAAD,EAAUC,KAAV,EAAoB;AACpE,eAAO;AAAI,UAAA,GAAG,EAAEA,KAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAiBD,OAAO,CAACE,IAAzB,CAAP;AACD,OAFgB,CAAjB;AAIA,aACE;AAAK,QAAA,EAAE,EAAC,YAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,EAAE,EAAC,iBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAU,KAAKd,KAAL,CAAWQ,QAAX,CAAoBO,IAA9B,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAW,KAAKf,KAAL,CAAWQ,QAAX,CAAoBQ,KAA/B,CAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAW,KAAKhB,KAAL,CAAWQ,QAAX,CAAoBS,KAA/B,CAHF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAc,KAAKjB,KAAL,CAAWI,aAAzB,CAJF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAiB,KAAKJ,KAAL,CAAWkB,WAA5B,CALF,EAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAiB,KAAKlB,KAAL,CAAWmB,cAA5B,CANF,eAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACCT,QADD,CARF,EAWE;AAAQ,QAAA,OAAO,EAAE,KAAKL,QAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAXF,EAaE,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAE,uBAAuB,KAAKL,KAAL,CAAWQ,QAAX,CAAoBC,EAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADA,CAbF,CADF,CADF;AAoBD;;;;EAnF4Bb,S;;AAuF7B,eAAeG,cAAf","sourcesContent":["import React, {Component}  from 'react';\nimport {Link} from 'react-router-dom';\nimport Request from '../../helpers/request.js';\n\nclass SingleCustomer extends Component {\n  constructor(props){\n    super(props);\n\n    this.state ={\n      totalSpend: \"\",\n      visitCount: \"\",\n      discountLevel: \"\"\n    }\n\n    this.onDelete = this.onDelete.bind(this);\n    // this.totalSpendings = this.totalSpendings.bind(this);\n    // this.totalVisits = this.totalVisits.bind(this);\n    // this.discountLevel = this.discountLevel.bind(this);\n\n  }\n\n  // componentDidMount(){\n  //   this.totalSpendings();\n  //   this.totalVisits();\n  //   this.discountLevel();\n  // }\n\n onDelete(){\n   this.props.handleDelete(this.props.customer.id)\n }\n\n // totalSpendings(){\n //    let request1 = new Request()\n //    request1.get('api/customers/1/totalSpendings').then((data) => {\n //      this.setState({totalSpend: data})\n //    })\n //  }\n //\n //  totalVisits(){\n //     let request2 = new Request()\n //     request2.get('api/customers/1/visitCount').then((data) => {\n //       this.setState({visitCount: data})\n //     })\n //   }\n //\n //  discountLevel(){\n //     let visits = this.state.visitCount;\n //     if(visits>10){\n //       this.setState({discountLevel: \"gold\"})\n //     }else if(visits>5){\n //       this.setState({discountLevel: \"silver\"})\n //     }else{\n //      this.setState({discountLevel: \"bronze\"})\n //     }\n //    }\n\nrender(){\n\n  if(!this.props.customer){\n    return null;\n  }\n\n\n  const bookings = this.props.customer.bookings.map((booking, index) => {\n    return <li key={index}>{booking.date}</li>\n  })\n\n  return (\n    <div id=\"container2\">\n      <div id=\"single-customer\">\n        <b>Name: {this.props.customer.name}</b>\n        <b>Phone: {this.props.customer.phone}</b>\n        <b>Email: {this.props.customer.email}</b>\n        <b>Discount: {this.props.discountLevel}</b>\n        <b>Total Visit: {this.props.totalVisits}</b>\n        <b>Total Spend: {this.props.totalSpendings}</b>\n        Bookings:\n        <ul>\n        {bookings}\n        </ul>\n        <button onClick={this.onDelete}>Delete Customer</button>\n\n        <Link to={'/customers/update/' + this.props.customer.id}>\n        <button>Update Customer</button></Link>\n      </div>\n    </div>\n  )\n}\n\n}\n\nexport default SingleCustomer;\n"]},"metadata":{},"sourceType":"module"}